/*! ng-carousel by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-09-19 */
!function(a,b){"use strict";var c=b.module("ngCarousel",[]);c.constant("carouselOptions",{DIMENSION_WIDTH:250,DIMENSION_HEIGHT:300,DIMENSION_SPACING:10,PERSPECTIVE:1e3,BACKFACE_VISIBILITY:"hidden",MAINTAIN_ASPECT_RATIO:!1,FIGURE_PARTIAL_PATH:"figure.html"}),c.directive("carousel",["carouselOptions",function(c){return{restrict:"EA",require:"ngModel",template:'<section class="carousel-container"><figure ng-repeat="model in collection" ng-include="partial">{{applyFigureElementStyles($index)}}</figure></section>',scope:{collection:"=ngModel"},controller:["$scope",function(a){a.currentDimensionWidth=0,a.memorisedOptions=!1,a.originalCount=0,a.partial=c.FIGURE_PARTIAL_PATH,a.applyBaseElementStyles=function(a){a.css({width:c.DIMENSION_WIDTH+"px",height:c.DIMENSION_HEIGHT+"px",position:"absolute",perspective:c.PERSPECTIVE+"px",display:"block"})},a.applyContainerElementStyles=function(a,b){a.css({width:"100%",height:"100%",position:"absolute",transformStyle:"preserve-3d",transform:"translateZ(-"+b+"px) rotateY(0deg)"})},a.applyFigureElementStyles=function(d){var e=b.element(a.baseElement.find("figure")[d]),f=a.dimensionDegree*d;e.css({display:"block",position:"absolute",width:a.currentDimensionWidth-c.DIMENSION_SPACING+"px",height:c.DIMENSION_HEIGHT+"px",backfaceVisibility:c.BACKFACE_VISIBILITY,transform:"rotateY("+f+"deg) translateZ("+a.translateZ+"px)"})},a.applyContainerElementOffset=function(b){b.css({left:"-"+(a.currentDimensionWidth-c.DIMENSION_WIDTH)/2+"px"})}}],link:function(d,e){d.currentDimensionWidth=c.DIMENSION_WIDTH,d.$watch("collection",function(){if(0!==d.collection.length){var f=b.element(e.find("section")[0]),g=d.collection.length,h=360/g,i=c.DIMENSION_WIDTH/2,j=a.round(i/a.tan(a.PI/g));d.baseElement=e,d.dimensionDegree=h,d.translateZ=j,d.memorisedOptions||(d.originalCount=d.collection.length,d.originalTranslateZ=j,d.memorisedOptions=!0),d.applyBaseElementStyles(e),d.applyContainerElementStyles(f,j),c.MAINTAIN_ASPECT_RATIO&&(d.currentDimensionWidth=c.DIMENSION_WIDTH*d.originalCount/g,d.translateZ=d.originalTranslateZ,d.applyContainerElementOffset(f))}},!0)}}}])}(window.Math,window.angular);