/*! ng-carousel by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-09-19 */
!function(a,b){"use strict";var c=b.module("ngCarousel",[]);c.constant("carouselOptions",{DIMENSION_WIDTH:250,DIMENSION_HEIGHT:300,DIMENSION_SPACING:10,PERSPECTIVE:1e3,BACKFACE_VISIBILITY:"hidden",MAINTAIN_WIDTH:!0,GROUP_PICTURES_BY:3}),c.directive("carousel",function(c){return{restrict:"EA",require:"ngModel",scope:{pictures:"=ngModel"},controller:["$scope",function(a){a.originalWidth=null,a.originalDimension=null,a.applyCarouselStyles=function(b){console.log(a.originalDimension),b.css({width:a.originalDimension+"px",height:c.DIMENSION_HEIGHT+"px",position:"relative",perspective:c.PERSPECTIVE+"px",display:"block"})},a.appendData=function(c,d){return b.isArray(d)&&d[0].picture?void a.addPictureModels(c,d):void a.addPicture(c,d)},a.addPicture=function(a,b){a.css({backgroundImage:'url("'+b+'")',backgroundRepeat:"no-repeat"})},a.addPictureModels=function(a,c){b.forEach(c,function(c){var d=b.element("<div />");d.css({backgroundImage:'url("'+c.picture+'")',backgroundRepeat:"no-repeat"}),a.append(d)})},a.createTransformElement=function(a,c){var d=a.find("section");return 0===d.length&&(d=b.element("<section />"),a.append(d),d.css({width:"100%",height:"100%",position:"absolute",transformStyle:"preserve-3d",transform:"translateZ(-"+c+"px) rotateY(0deg)"})),d},a.addFigureElement=function(d,e,f){var g=a.createTransformElement(d,f),h=b.element("<figure />");return g.append(h),h.css({display:"block",position:"absolute",width:c.DIMENSION_WIDTH-c.DIMENSION_SPACING+"px",height:c.DIMENSION_HEIGHT+"px",backfaceVisibility:c.BACKFACE_VISIBILITY,transform:"rotateY("+e+"deg) translateZ("+f+"px)"}),h},a.removeFigureElements=function(a){a.find("figure").remove()}}],link:function(b,d){b.$watch("pictures",function(){var e=b.pictures.length,f=360/e;null===b.originalWidth&&(b.originalWidth=c.DIMENSION_WIDTH*e),null===b.originalDimension&&(b.originalDimension=c.DIMENSION_WIDTH),b.removeFigureElements(d),b.applyCarouselStyles(d),c.MAINTAIN_WIDTH&&(c.DIMENSION_WIDTH=b.originalWidth/e,d.find("section").css({left:"-"+(c.DIMENSION_WIDTH-b.originalDimension)/2+"px"}));for(var g=0,h=a.round(c.DIMENSION_WIDTH/2/a.tan(a.PI/e)),i=0;e>i;i++){var j=b.addFigureElement(d,g+=f,h);b.appendData(j,b.pictures[i])}},!0)}}})}(window.Math,window.angular);